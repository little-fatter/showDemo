(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e75863d"],{"759a":function(s,t,i){},a55b:function(s,t,i){"use strict";i.r(t);var e=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"lgdv"},[s.fingpswd?i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[s._v("找回密码")]),i("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:s.outfingpswd}},[s._v("返回登录")])],1),i("div",[s.index2?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n        *请输入用户名\n      ")]):i("div",{staticClass:"publics"},[s._v("*请输入用户名")]),i("div",{staticClass:"publics"},[i("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:s.usernames,callback:function(t){s.usernames=t},expression:"usernames"}})],1)]),i("div",[s.email?i("div",{staticClass:"publics"},[s._v("*请输入邮箱")]):i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("*请输入邮箱")]),i("div",{staticClass:"publics"},[i("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:s.email,callback:function(t){s.email=t},expression:"email"}})],1)]),i("div",{staticStyle:{display:"flex","justify-content":"center",margin:"10px 20px"}},[s.usernames&&s.email?i("el-button",{attrs:{type:"primary"},on:{click:s.findpassword}},[s._v("找回密码")]):i("el-button",{attrs:{type:"primary",disabled:""}},[s._v("找回密码")])],1)]):i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[i("div",{class:s.phonelogin?"":"chooselogin",on:{click:s.clklogin}},[s._v("\n          账号登录\n        ")]),i("div",{class:s.phonelogin?"chooselogin":"",on:{click:s.clkphonelogin}},[s._v("\n          手机登录\n        ")]),i("div",[i("a",{ref:"diva",on:{click:s.gotogithub}},[s._v("\n            github登录\n          ")])])])]),s.phonelogin?i("div",{staticClass:"text item"},[i("div",[s.index2?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n          *请输入手机号\n        ")]):i("div",{staticClass:"publics"},[s._v("*请输入手机号")]),i("div",{staticClass:"publics",staticStyle:{display:"flex"}},[i("el-input",{attrs:{placeholder:"请输入手机号",clearable:""},model:{value:s.phone,callback:function(t){s.phone=t},expression:"phone"}}),s.index2?i("el-button",{attrs:{type:"success",disabled:""}},[s._v("发送验证码")]):i("el-button",{attrs:{type:"success",loading:s.loading},on:{click:s.sendmsg}},[s._v("发送验证码")])],1)]),i("div",[s.index1?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n          *请输入验证码\n        ")]):i("div",{staticClass:"publics"},[s._v("*请输入验证码")]),i("div",{staticClass:"publics"},[i("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:s.VerificationCode,callback:function(t){s.VerificationCode=t},expression:"VerificationCode"}})],1)])]):i("div",{staticClass:"text item"},[i("div",[s.index2?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n          *请输入用户名\n        ")]):i("div",{staticClass:"publics"},[s._v("*请输入用户名")]),i("div",{staticClass:"publics"},[i("el-input",{attrs:{placeholder:"请输入用户名",clearable:""},model:{value:s.usernames,callback:function(t){s.usernames=t},expression:"usernames"}})],1)]),i("div",[s.index?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n          *请输入密码(6-20位)\n        ")]):i("div",{staticClass:"publics"},[s._v("*请输入密码(6-20位)")]),i("div",{staticClass:"publics",staticStyle:{display:"flex"}},[i("el-input",{attrs:{placeholder:"请输入密码","show-password":"",clearable:""},model:{value:s.passwords,callback:function(t){s.passwords=t},expression:"passwords"}}),i("el-button",{attrs:{type:"success"},on:{click:s.tofindpswd}},[s._v("\n            找回密码\n          ")])],1)]),i("div",[s.index1?i("div",{staticClass:"publics",staticStyle:{color:"red"}},[s._v("\n          *请输入验证码\n        ")]):i("div",{staticClass:"publics"},[s._v("*请输入验证码")]),i("div",{staticClass:"publics",staticStyle:{display:"flex","align-items":"center"}},[i("el-input",{attrs:{placeholder:"请输入验证码",clearable:""},model:{value:s.vcodes,callback:function(t){s.vcodes=t},expression:"vcodes"}}),i("div",{domProps:{innerHTML:s._s(s.svg)},on:{click:s.vcodechange}})],1)])]),i("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[i("el-button",{attrs:{type:"primary"},on:{click:s.Userlogin}},[s._v("立即登录")]),i("el-button",{attrs:{type:"primary"},on:{click:s.Userregister}},[s._v("立即注册")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:s.dialogVisible,width:"30%"},on:{"update:visible":function(t){s.dialogVisible=t}}},[i("span",[s._v(s._s(s.msg))]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:s.pagechanges}},[s._v("确 定")])],1)])],1)},a=[],n=i("6c94"),o=i.n(n),l={name:"register",data:function(){return{phonelogin:!1,dialogVisible:!1,usernames:"",passwords:"",codes:"",msg:"",svg:"",vcodes:"",index:!0,index1:!0,index2:!0,VerificationCode:"",phone:"",fingpswd:!1,email:"",loading:!1}},methods:{findpassword:function(){var s=this;this.$axios.req("api/users/findpswd",{username:this.usernames,emails:this.email}).then((function(t){t&&(s.dialogVisible=!0,s.msg=t.data.msg,console.log(t.data.msg))})).catch((function(s){console.log(s)}))},outfingpswd:function(){this.fingpswd=!1,this.usernames="",this.email=""},tofindpswd:function(){this.fingpswd=!0,this.usernames="",this.passwords="",this.vcodes=""},clkphonelogin:function(){this.phonelogin=!0,this.usernames="",this.passwords="",this.vcodes=""},clklogin:function(){this.phonelogin=!1,this.phone="",this.VerificationCode=""},Userregister:function(){this.$router.push("/Regist")},vcodechange:function(){this.getcode()},pagechanges:function(){this.dialogVisible=!1,200===this.codes?this.$router.push("/"):(this.usernames="",this.passwords="",this.vcodes="",this.email="")},Userlogin:function(){var s=this;this.phonelogin?this.index1||this.index2?(this.phone="",this.VerificationCode="",this.msg="输入错误"):this.$axios.req("api/users/phonelogin",{phone:this.phone,code:this.VerificationCode}).then((function(t){if(s.codes=t.data.code,s.msg=t.data.msg,200===t.data.code){var i=new Date,e=o()(i).format("HH"),a=t.data.data;localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("logintime",e)}})).catch((function(s){console.log(s)})):(this.getcode(),!1===this.index&&!1===this.index1&&!1===this.index2?this.$axios.req("api/users/login",{username:this.usernames,password:this.passwords,code:this.vcodes}).then((function(t){if(s.codes=t.data.code,s.msg=t.data.msg,200===t.data.code){var i=new Date,e=o()(i).format("HH"),a=t.data.data;localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("logintime",e)}})).catch((function(s){console.log(s)})):(this.usernames="",this.passwords="",this.vcodes="",this.msg="输入错误"));var t=setTimeout((function(){s.dialogVisible=!0,clearTimeout(t)}),500)},getcode:function(){var s=this;this.$axios.req("api/captcha").then((function(t){s.svg=t.data})).catch((function(s){console.log(s)}))},sendmsg:function(){var s=this;this.loading=!0;var t=this,i=setTimeout((function(){t.loading=!1,clearTimeout(i)}),5e3);this.index2||this.$axios.req("api/users/sendmsg",{phone:this.phone}).then((function(t){s.dialogVisible=!0,s.msg=t.data.msg})).catch((function(s){console.log(s)}))},gotogithub:function(){var s=this.$refs.diva;s.href="https://github.com/login/oauth/authorize?client_id=142f92588f739be3cff5",this.$axios.req("api/githubUser").then((function(s){if(s){var t=new Date,i=o()(t).format("HH"),e={_id:s.data.data.id,username:s.data.data.login,password:null,phone:null,createDate:s.data.data.created_at,avatar:s.data.data.avatar_url};localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("logintime",i)}})).catch((function(s){console.log(s)}))}},mounted:function(){this.getcode()},watch:{phone:{handler:function(s){11===s.length?this.index2=!1:this.index2=!0},deep:!0},VerificationCode:{handler:function(s){6===s.length?this.index1=!1:this.index1=!0},deep:!0},usernames:{handler:function(s){s.length>0?this.index2=!1:this.index2=!0},deep:!0},passwords:{handler:function(s){s.length>=6?this.index=!1:this.index=!0},deep:!0},vcodes:{handler:function(s){4===s.length?this.index1=!1:this.index1=!0},deep:!0}}},c=l,d=(i("ea1f"),i("9ca4")),r=Object(d["a"])(c,e,a,!1,null,"181e0b46",null);t["default"]=r.exports},ea1f:function(s,t,i){"use strict";var e=i("759a"),a=i.n(e);a.a}}]);
//# sourceMappingURL=chunk-1e75863d.ca740774.js.map